{
	"environments": [
		{
			"browserName": "chrome",
			"version": "48",
			"fixSessionCapabilities": "no-detect", // improve performance
			'chromeOptions': {
				'args': [
					'--no-sandbox',
					'--headless',
					'--incognito',
					// Fix this bug: https://stackoverflow.com/questions/41373166/why-am-i-seeing-error-only-secure-origins-are-allowed-for-my-service-worker
					'--unsafely-treat-insecure-origin-as-secure=http://192.168.0.101:4445',
//					'--allow-running-insecure-content',
//					'--reduce-security-for-testing',
//					'--user-data-dir=/tmp/foo',
					'--allow-insecure-localhost http://192.168.0.101:4445',
//					'--disable-gpu',

					// Test
//					'--enable-precision-memory-info',
//					'--debug-print',
//					'--enable-crash-reporter-for-testing',
//					'--log-level 0',
//					'--dns-log-details',
//					'--enable-logging',
//					'--enable-stats-table' // StatsTable
				]
			}
		},
		{
			"browserName": "chrome",
			"version": "72",
			"fixSessionCapabilities": "no-detect", // improve performance
			'chromeOptions': {
				'args': [
					'--no-sandbox',
					'--headless',
//					'--disable-gpu',

					// Test
					'--enable-precision-memory-info',
					'--debug-print',
					'--enable-crash-reporter-for-testing',
					'--log-level 0',
					'--dns-log-details',
					'--enable-logging',
					'--enable-stats-table' // StatsTable
				]
			}
		},
		{
			"browserName": "firefox",
		}
	],
	"tunnel" : "null",
	"tunnelOptions": {
		"pathname": "/wd/hub",
		"hostname": "selenoid",
		"port": 4444,
		"logLevel"    : "trace"
	},

	"serverPort": 9000,
	"serverUrl": "http://192.168.0.101:9000",

	"functionalSuites": [
		"src/test/*/webdriver/**/*.js",
		"!*/**/{src,assets}/**"
	],
	"coverage": [
		"dist/components/**/*.js"
	],

	"debug": true,
	"reporters": [
		{
			"name": "jsoncoverage",
			"options": {
				"directory": "tmp/coverage/intern/json"
			}
		},
		{
			"name": "htmlcoverage",
			"options": {
				"directory": "tmp/coverage/intern/html"
			}
		},
//		"simple",
//		"pretty",
		"runner"
	],

	"plugins": [
		"env/intern/register-intern.js",
		{
			"script": "env/intern/modules/intern-express/index.js",
			"options": {
				servers: [
					{
						port: 4445,
						inits: [
							["/sapper/page", "dist/sapper/export/sapper/page"]
						]
					}
				]
			}
		}
	]
}
